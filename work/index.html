<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work - joeldelaney</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<div id="pw-gate" style="position:fixed;inset:0;background:#1A4957;display:flex;align-items:center;justify-content:center;z-index:9999;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;">
  <div style="text-align:center;padding:2rem;max-width:380px;width:100%;box-sizing:border-box;">
    <h2 style="color:#fff;font-size:1.6rem;font-weight:600;margin:0 0 0.4rem;">joeldelaney</h2>
    <p style="color:#b0d4dd;margin:0 0 2rem;font-size:0.95rem;">Enter password to continue</p>
    <input type="password" id="pw-input" placeholder="Password" autocomplete="current-password" style="width:100%;padding:12px 16px;background:#0f3340;border:1px solid #2d6575;border-radius:6px;color:#fff;font-size:1rem;margin-bottom:0.75rem;outline:none;box-sizing:border-box;" onkeydown="if(event.key==='Enter')checkPw()">
    <button onclick="checkPw()" style="width:100%;padding:12px;background:#fff;color:#1A4957;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;">Continue</button>
    <p id="pw-err" style="color:#e07070;margin:1rem 0 0;font-size:0.9rem;display:none;">Incorrect password â€” try again</p>
  </div>
</div>
<script>
(function(){
  const PW_HASH='37afc1f49bee96456c3da066936372f00ad403404c2167405605840ceaba9ec0';
  if(sessionStorage.getItem('work_auth')==='1'){document.getElementById('pw-gate').style.display='none';return;}
  async function checkPw(){
    const val=document.getElementById('pw-input').value;
    const buf=await crypto.subtle.digest('SHA-256',new TextEncoder().encode(val));
    const hash=Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    if(hash===PW_HASH){sessionStorage.setItem('work_auth','1');document.getElementById('pw-gate').style.display='none';}
    else{document.getElementById('pw-err').style.display='block';document.getElementById('pw-input').value='';document.getElementById('pw-input').focus();}
  }
  window.checkPw=checkPw;
  document.getElementById('pw-input').focus();
})();
</script>
    <header>
        <nav class="navbar">
            <div class="brand">
                <a href="/"><h1>joeldelaney</h1></a>
            </div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="/work/" class="active">Work</a></li>
                <li><a href="/benedict/">Benedict</a></li>
                <li><a href="/book/">Book</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="work-list" id="work-container">
            <!-- Work items are automatically loaded from work-items.js -->
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Joel Delaney</p>
    </footer>

    <script src="/work-items.js"></script>
    <script>
        // Sort work items by date (newest first)
        const sortedWork = workItems.sort((a, b) => new Date(b.date) - new Date(a.date));

        // Populate work items list
        const workContainer = document.getElementById('work-container');

        if (sortedWork.length === 0) {
            workContainer.innerHTML = `
                <article class="work-item">
                    <h2>Coming Soon</h2>
                    <p>Work projects will be added here.</p>
                </article>
            `;
        } else {
            sortedWork.forEach(item => {
                if (item.url) {
                    const link = document.createElement('a');
                    link.href = item.url;
                    link.className = 'work-item-link';
                    link.innerHTML = `
                        <article class="work-item">
                            <h2>${item.title}</h2>
                            <p>${item.description}</p>
                        </article>
                    `;
                    workContainer.appendChild(link);
                } else {
                    const article = document.createElement('article');
                    article.className = 'work-item';
                    article.innerHTML = `
                        <h2>${item.title}</h2>
                        <p>${item.description}</p>
                    `;
                    workContainer.appendChild(article);
                }
            });
        }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FRT76XL460"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FRT76XL460');
    </script>
</body>
</html>
